<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="keywords"
      content="mathesar, database, data, postgresql, postgres, open source, free, software, data management, data analysis, data visualization"
    />
    <title>{{ page.title }}</title>

    <link rel="stylesheet" type="text/css" href="assets/main.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
  </head>
  <body class="bg-stone-50 text-gray-800">
    <div>{% include navigation.html %}</div>

  
    {{ content }}
   

{% capture cta_content %}
Sign up for Mathesar updates.
{% endcapture %}
    
{% include cta.html content=cta_content title="Find out when you can start using Mathesar" %}
{% include footer.html %}

  <script async defer src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
  <noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif" alt="" referrerpolicy="no-referrer-when-downgrade" /></noscript>
</body>

  <script>
    // when feature-card element add flex inverse to odd elements
    const featureCards = document.querySelectorAll(".feature-card");
    featureCards.forEach((card, index) => {
      if (index % 2 !== 0) {
        card.classList.add("flex-row-reverse");
      }
    });
  </script>

  <script>
    // Formspree forms AJAX request script

    function sendFormDataToFormspree(event, form) {
      const data = new FormData(event.target);

      return fetch(event.target.action, {
        method: form.method,
        body: data,
        headers: { Accept: "application/json" },
      })
        .then((response) => {
          if (response.ok) {
            form.reset();
          } else {
            throw new Error("");
          }
        })
        .catch((error) => {
          throw new Error("");
        });
    }

    function loadingStateManager(formId) {
      const buttonElement = document.querySelector(
        `#${formId} button[type="submit"]`
      );
      const originalText = buttonElement.innerHTML;
      return {
        setLoading: function () {
          buttonElement.innerHTML = "Loading...";
          buttonElement.disabled = true;
        },
        unsetLoading: function () {
          buttonElement.innerHTML = originalText;
          buttonElement.disabled = false;
        },
      };
    }

    function showSuccessText(formId) {
      const successText = document.querySelector(`#${formId} .success-text`);
      successText.innerHTML = "Thanks for your submission!";
      successText.style.display = "block";
      setTimeout(() => {
        successText.style.display = "none";
      }, 5000);
    }

    function showErrorText(formId) {
      const errorText = document.querySelector(`#${formId} .error-text`);
      errorText.innerHTML = "Oops! There was a problem submitting your form";
      errorText.style.display = "block";
      setTimeout(() => {
        errorText.style.display = "none";
      }, 5000);
    }

    // Event setup for signup form
    const signupFormId = "signup-form";
    const signupForm = document.getElementById(signupFormId);
    function handleSignupFormSubmit(event) {
      event.preventDefault();
      const { setLoading, unsetLoading } = loadingStateManager(signupFormId);
      setLoading();
      sendFormDataToFormspree(event, signupForm)
        .then(() => showSuccessText(signupFormId))
        .catch(() => showErrorText(signupFormId))
        .finally(unsetLoading);
    }
    signupForm.addEventListener("submit", handleSignupFormSubmit);

    // Event setup for free install form
    const freeInstallFormId = "free-install-form";
    const freeInstallForm = document.getElementById(freeInstallFormId);
    function handleFreeInstallFormSubmit(event) {
      event.preventDefault();
      const { setLoading, unsetLoading } = loadingStateManager(freeInstallFormId);
      setLoading();
      sendFormDataToFormspree(event, freeInstallForm)
        .then(() => showSuccessText(freeInstallFormId))
        .catch(() => showErrorText(freeInstallFormId))
        .finally(unsetLoading);
    }
    freeInstallForm.addEventListener("submit", handleFreeInstallFormSubmit);

  </script>
</html>
