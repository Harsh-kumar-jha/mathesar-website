<div class="angled light space-y-10">
  <div class="mx-auto max-w-2xl space-y-8">
    <h3 class="text-4xl font-bold text-center">The people behind Mathesar</h3>
    <div class="lg:flex space-x-8">
      <p class="text-xl flex-grow">
        Mathesar is a project at the
        <a href="https://centerofci.org">Center for Complex Interventions</a>, a
        nonprofit that helps communities translate science into action.
      </p>
      <img class="w-64 mt-8 mx-auto lg:mt-0" src="assets/cci-logo.svg" alt="" />
    </div>
  </div>

  <div class="w-40 border-t-2 border-stone-400 mx-auto"></div>

  <div class="mx-auto max-w-2xl space-y-2 text-center">
    <h4 class="text-3xl font-bold">Our team</h4>
    <p class="text-xl">+ what we personally use databases for</p>
    <div class="text-lg">
      <p>
        The Mathesar team are both open source as well as industry veterans.
        We've:
      </p>

      <ul class="list-disc list-inside">
        <li>Achievement</li>
        <li>Achievement</li>
        <li>Achievement</li>
      </ul>
    </div>
  </div>

  <div
    class="max-w-6xl mx-auto grid lg:grid-cols-2 grid-flow-row gap-12 auto-rows-auto"
  >
    {% for member in site.data.members %}
    <div class="space-y-2 lg:flex items-start lg:space-x-4 h-64">
      <img src="assets/{{member.image}}" class="w-40" alt="" />
      <div class="space-y-4">
        <div>
          <h4 class="text-xl font-semibold">{{member.name}}</h4>
          <div>{{member.role}}</div>
        </div>
        <div class="italic border-l-2 pl-4 border-stone-800 space-y-2 quote">
          {{member.bio | markdownify}}
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

  <div class="mx-auto max-w-2xl space-y-8">
    <h3 class="text-3xl font-bold text-center">Contributors</h3>
    <ul class="flex flex-wrap justify-center" id="contributor-list"></ul>
  </div>
</div>

<script>
  const repoOwner = "centerofci";
  const repoName = "mathesar";

  async function getContributors() {
    try {
      const response = await fetch(
        `https://api.github.com/repos/${repoOwner}/${repoName}/contributors`
      );
      const contributors = await response.json();

      const listContainer = document.getElementById("contributor-list");
      listContainer.innerHTML = "";

      for (const contributor of contributors) {
        const item = document.createElement("li");

        const img = document.createElement("img");
        //classlist
        img.classList.add("rounded-full", "w-16", "h-16", "m-2");
        img.src = contributor.avatar_url;
        img.alt = contributor.login;
        img.title = contributor.login;
        item.appendChild(img);

        listContainer.appendChild(item);
      }
    } catch (error) {
      console.error(error);
    }
  }

  getContributors();
</script>
